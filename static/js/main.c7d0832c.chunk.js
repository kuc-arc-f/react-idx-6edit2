(this.webpackJsonpreact_idx=this.webpackJsonpreact_idx||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),i=(a(30),a(1)),s=a(2),o=a(4),m=a(3),u=a(5),d=a(10),h=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"React-Idx6"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.b,{to:"/cms_category",className:"nav-link"},"Category")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.b,{to:"/cms_pages",className:"nav-link"},"Pages")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.b,{to:"/cms_edit",className:"nav-link"},"Posts"))),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/about",className:"nav-link"},"About")))),r.a.createElement("hr",null))}}]),a}(r.a.Component),p=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer_box mt5",id:"id_foot"},r.a.createElement("a",{href:"/about"},r.a.createElement("p",{className:"p_foot_str"},"About")),r.a.createElement("style",null,"\n      .p_foot_str {\n        color: #FFF;\n      }\n      .footer_box {\n        margin-top: 20px;\n        background-color: #757575;\n        color: #fff;\n        padding: 140px 40px;\n      }\n      "))}}]),a}(r.a.Component),b=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"About"),r.a.createElement("hr",null),r.a.createElement("h3",null,"about, text"))}}]),a}(r.a.Component),v=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Home"),r.a.createElement("h2",null,"welcome, home"))}}]),a}(r.a.Component),E=a(6),g=a.n(E),f=a(9),y=a(7),_=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("p",null,this.props.obj.id," ,",this.props.obj.title)}}]),a}(n.Component),k=function(e,t){if(t||(t="YYYY-MM-DD hh:mm:ss.SSS"),(t=(t=(t=(t=(t=(t=t.replace(/YYYY/g,e.getFullYear())).replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2))).replace(/DD/g,("0"+e.getDate()).slice(-2))).replace(/hh/g,("0"+e.getHours()).slice(-2))).replace(/mm/g,("0"+e.getMinutes()).slice(-2))).replace(/ss/g,("0"+e.getSeconds()).slice(-2))).match(/S/g))for(var a=("00"+e.getMilliseconds()).slice(-3),n=t.match(/S/g).length,r=0;r<n;r++)t=t.replace(/S/,a.substring(r,r+1));return t},N=function(){return{DB_NAME:"cms_edit_idx_kuc_db2",DB_VERSION:1,DB_STORE:{posts:"++id, category_id, save_id , title, content , created_at",category:"++id, name, save_id, created_at",pages:"++id, save_id , title, content , created_at"},file_version:4}},C=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE)}},{key:"add_item",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(new Date,"YYYYMMDDhhmmss"),a={save_id:t,title:"post-0307b-"+t,content:"post-0307b-body-"+t,category_id:"0",created_at:new Date},console.log(a),e.next=5,this.db.posts.add(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tabRow",value:function(){if(this.state.data.items instanceof Array)return this.state.data.items.map((function(e,t){return r.a.createElement(_,{obj:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"test"),r.a.createElement("h2",null,"welcome, test2"),r.a.createElement("hr",null),r.a.createElement("div",null,this.tabRow()))}}]),a}(r.a.Component),O=a(8),j=function(){return{DB_NAME:"task_idx_kuc_db",DB_VERSION:1,DB_STORE:{tasks:"++id, title, content ,created_at"}}},w=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=j();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE)}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleChangeContent",value:function(e){this.setState({content:e.target.value})}},{key:"add_item",value:function(){var e={title:this.state.title,content:this.state.content,created_at:new Date};this.db.tasks.add(e),console.log(e),this.props.history.push("/task")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/task",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",{className:"mt-2"},"Create - Task"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.handleChangeTitle.bind(this)})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Content:"),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.handleChangeContent.bind(this)})))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Create")))}}]),a}(n.Component),D=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.obj.id),r.a.createElement("td",null,this.props.obj.title),r.a.createElement("td",null,this.props.obj.content),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/task_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary"},"Edit")),r.a.createElement("td",null))}}]),a}(n.Component),S=(function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,t.forEach((function(e){e.id===a&&(n=e)})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))}(),function(e){var t=[];return e.forEach((function(e){var a=e.created_at;a=k(a,"YYYY-MM-DD hh:mm"),e.created_at=a,t.unshift(e)})),t}),B=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:""},n.db=null,n.handleClickExport=n.handleClickExport.bind(Object(O.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=j();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE)}},{key:"handleClickExport",value:function(){console.log("#-handleClickExport");var e=JSON.stringify(this.state.data),t=new Blob([e],{type:"application/json"});window.navigator.msSaveBlob?(console.log("#-msSaveBlob"),window.navigator.msSaveBlob(t,"tasks.json"),window.navigator.msSaveOrOpenBlob(t,"tasks.json")):(console.log("#-msSaveBlob-false"),document.getElementById("download").href=window.URL.createObjectURL(t))}},{key:"get_items",value:function(){var e=this;this.db.tasks.toArray().then((function(t){var a=S(t);e.setState({data:a}),console.log(a)}))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(e,t){return r.a.createElement(D,{obj:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Task - index"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(u.b,{to:"/task_create",className:"btn btn-sm btn-primary"},"+ Create")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{id:"download",href:"",download:"tasks.json",onClick:this.handleClickExport,className:"btn btn-outline-primary btn-sm"},"Export"),r.a.createElement(u.b,{to:"/task_import",target:"_blank",className:"btn btn-sm btn-outline-primary ml-2"},"Import"))),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Conent"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.tabRow())))}}]),a}(n.Component),x=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.id=0,n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.handleClickDelete=n.handleClickDelete.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.id=parseInt(this.props.match.params.id);var e=j();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),console.log(this.id),this.get_item(this.id)}},{key:"get_item",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.tasks.get(t);case 2:a=e.sent,this.setState({title:a.title,content:a.content}),console.log(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_item",value:function(){this.db.tasks.update(parseInt(this.id),{title:this.state.title,content:this.state.content}),this.props.history.push("/task")}},{key:"handleClickDelete",value:function(){this.db.tasks.delete(parseInt(this.id)),this.props.history.push("/task")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleChangeContent",value:function(e){this.setState({content:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/task",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",null,"Edit - task"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10"}),r.a.createElement("div",{className:"col-md-2"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:this.handleChangeTitle.bind(this)})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{name:"product_price"},"Content"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.content,onChange:this.handleChangeContent.bind(this)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Save")),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:this.handleClickDelete},"Delete")))}}]),a}(n.Component),M=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=j();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE)}},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/task",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",{className:"mt-2"},"Test"),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"test")))}}]),a}(n.Component),T=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("load",(function(){window.document.getElementById("file1").addEventListener("change",(function(){e.change_proc()}))}));var t=j();this.db=new y.a(t.DB_NAME),this.db.version(t.DB_VERSION).stores(t.DB_STORE)}},{key:"change_proc",value:function(){console.log("#-change_proc"),console.log("#-change_proc");for(var e=this,t=window.document.getElementById("file1").files,a=0;a<t.length;a++){var n=t[a];console.log("i: "+a),console.log("Name: "+n.name),console.log("Size: "+n.size),console.log("Type: "+n.type),console.log("Date: "+n.lastModified),console.log("Date: "+n.lastModifiedDate);var r=new FileReader;r.onload=function(){var t=Object(f.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("State: "+a.target.readyState),n=a.target.result,r=JSON.parse(n||"[]"),console.log(r),t.next=6,e.add_item(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.onerror=function(e){console.log(e.target.error.name)},r.readAsText(n,"utf-8")}}},{key:"add_item",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,this.db.tasks.clear(),e.next=4,t.forEach((function(e){var t={title:e.title,content:e.content,created_at:new Date(e.created_at)};a.db.tasks.add(t)}));case 4:setTimeout((function(){alert("Complete ,import data success."),console.log("# timer.cb"),window.location.href="/"}),1e3);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/task",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h3",{className:"mt-2"},"Tasks- import:"),r.a.createElement("hr",null),r.a.createElement("p",null,"select , json file"),r.a.createElement("div",null,r.a.createElement("input",{type:"file",id:"file1",className:"btn btn-outline-primary"})),r.a.createElement("br",null),r.a.createElement("p",null,"\u203b\u9023\u7d9a\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u4e0b\u3055\u3044\u3002"))}}]),a}(n.Component),R=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:"",category_items:[]},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_category_items()}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleChangeContent",value:function(e){this.setState({content:e.target.value})}},{key:"get_category_items",value:function(){var e=this;this.db.category.toArray().then((function(t){e.setState({category_items:t}),console.log(t)}))}},{key:"add_item",value:function(){var e=k(new Date,"YYYYMMDDhhmmss"),t=document.getElementById("category_id"),a={save_id:e,title:this.state.title,category_id:t.value,content:this.state.content,created_at:new Date};this.db.posts.add(a),this.props.history.push("/cms_edit")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"tabCategory",value:function(){var e=this.state.category_items;return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("label",null,"Category :"),r.a.createElement("select",{id:"category_id",name:"category_id",className:"form-control"},r.a.createElement("option",{value:"0"},"Select please"),e.map((function(e,t){return r.a.createElement("option",{key:t,value:e.save_id},e.name)}))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_edit",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",{className:"mt-2"},"CmsEdit - Create"),this.tabCategory(),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",onChange:this.handleChangeTitle.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Content:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{type:"text",className:"form-control",rows:"10",onChange:this.handleChangeContent.bind(this)}))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Create")))}}]),a}(n.Component),I=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(u.b,{to:"/cms_edit_show/".concat(this.props.obj.id)},r.a.createElement("h3",null,this.props.obj.title)),this.props.obj.created_at," , ID : ",this.props.obj.id,", Category : ",this.props.obj.category.name),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/cms_edit_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary"},"Edit")),r.a.createElement("td",null))}}]),a}(n.Component),A=function(e,t){try{var a=[];return e.forEach((function(e){e.category={name:""},t.forEach((function(t){e.category_id===t.save_id&&(e.category=t)})),a.push(e)})),a}catch(n){throw console.log(n),new Error("Error , get_post_items")}},Y={init:function(){this.per_page=10},set_per_page:function(e){this.per_page=e},get_per_page:function(){return this.per_page},get_page_start:function(e){return{start:(e-1)*this.per_page,end:e*this.per_page}},get_max_page:function(e){return e/this.per_page},is_paging_display:function(e){var t=0;return e/this.per_page>=1&&(t=1),t},is_next_display:function(e,t){var a=0;return e<t/this.per_page&&(a=1),a},get_page_items:function(e){var t=this.is_paging_display(e.length);return{docs:e,page_item:{item_count:e.length,paginate_disp:t}}},getOnepageItems:function(e,t,a){var n=[];return e.forEach((function(e,r){r>=t&&r<a&&n.push(e)})),n},get_items:function(e,t,a){var n=[],r=t+a;return e.forEach((function(e,a){a>=t&&a<r&&n.push(e)})),n}},V=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"clickHandler",value:function(e){this.props.parent_func(e)}},{key:"render",value:function(){var e=this.props.paginateDisp,t=parseInt(this.props.page)+1;return r.a.createElement("div",null,e?r.a.createElement("div",{className:"paginate_wrap"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{onClick:this.clickHandler.bind(this,1),className:"btn btn-lg btn-outline-primary"}," 1st"),r.a.createElement("button",{onClick:this.clickHandler.bind(this,t),className:"btn btn-lg btn-outline-primary"}," >"))):"")}}]),a}(r.a.Component),L=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:"",data_org:"",page:1,pagingDisplay:0,category_items:[],page_items:[]},n.db=null,n.handleClickExport=n.handleClickExport.bind(Object(O.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_items()}},{key:"handleClickExport",value:function(){console.log("#-handleClickExport");var e=N(),t={save_date:new Date,file_version:e.file_version,items:this.state.data_org,category_items:this.state.category_items,page_items:this.state.page_items},a=JSON.stringify(t),n=new Blob([a],{type:"application/json"});window.navigator.msSaveBlob?(console.log("#-msSaveBlob"),window.navigator.msSaveBlob(n,"cms.json"),window.navigator.msSaveOrOpenBlob(n,"cms.json")):(console.log("#-msSaveBlob-false"),document.getElementById("download").href=window.URL.createObjectURL(n))}},{key:"get_items",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.posts.toArray();case 2:return t=e.sent,this.setState({data_org:t}),a=S(t),e.next=7,this.db.category.toArray();case 7:return n=e.sent,a=A(a,n),Y.init(),a=Y.getOnepageItems(a,0,10),r=Y.is_paging_display(a.length),e.next=14,this.db.pages.toArray();case 14:l=e.sent,this.setState({data:a,category_items:n,page_items:l,pagingDisplay:r});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(e,t){return r.a.createElement(I,{obj:e,key:t})}))}},{key:"parentMethod",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r,l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("#parentMethod.p="+t),e.next=3,this.db.posts.toArray();case 3:return a=e.sent,n=S(a),e.next=7,this.db.category.toArray();case 7:r=e.sent,n=A(n,r),Y.init(),l=Y.get_page_start(t),c=Y.is_next_display(t,n.length),n=Y.getOnepageItems(n,l.start,l.end),this.setState({page:t,data:n,pagingDisplay:c});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.pagingDisplay;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Posts"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(u.b,{to:"/cms_edit_create",className:"btn btn-sm btn-primary"},"+ Create")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{id:"download",href:"",download:"cms.json",onClick:this.handleClickExport,className:"btn btn-outline-primary btn-sm"},"Export"),r.a.createElement(u.b,{to:"/cms_edit_import",target:"_blank",className:"btn btn-sm btn-outline-primary ml-2"},"Import"))),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.tabRow()),r.a.createElement("hr",null),r.a.createElement("div",{className:"paging_box_wrap mt-3"},r.a.createElement(V,{parent_func:function(t){return e.parentMethod(t)},page:this.state.page,paginateDisp:t}))))}}]),a}(n.Component),H=a(24),J=a.n(H),P=function(e,t){try{var a={};return t.forEach((function(t){e===t.save_id&&(a=t)})),a}catch(n){throw console.log(n),new Error("Error , get_category_item")}},F=(a(37),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:"",type:0,created_at:"",category:{}},n.id=0,n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.id=parseInt(this.props.match.params.id);var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_item(this.id)}},{key:"get_item",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.posts.get(t);case 2:return(a=e.sent).content=J()(a.content),a.created_at=k(a.created_at,"YYYY-MM-DD hh:mm"),e.next=7,this.db.category.toArray();case 7:n=e.sent,r=P(a.category_id,n),this.setState({title:a.title,content:a.content,category:r,created_at:a.created_at});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return console.log(this.state.category),r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_edit",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",null,this.state.title),"Date : ",this.state.created_at,r.a.createElement("br",null),"Category : ",this.state.category.name,r.a.createElement("hr",null),r.a.createElement("div",{id:"post_item",dangerouslySetInnerHTML:{__html:this.state.content}}))}}]),a}(n.Component)),U=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:"",category:{},category_items:[]},n.id=0,n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.handleClickDelete=n.handleClickDelete.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.id=parseInt(this.props.match.params.id);var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_item(this.id)}},{key:"get_item",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.posts.get(t);case 2:return a=e.sent,e.next=5,this.db.category.toArray();case 5:n=e.sent,r=P(a.category_id,n),this.setState({title:a.title,content:a.content,category:r,category_items:n}),document.getElementById("category_id").value=a.category_id;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_item",value:function(){var e=document.getElementById("category_id").value;this.db.posts.update(parseInt(this.id),{title:this.state.title,content:this.state.content,category_id:e}),this.props.history.push("/cms_edit")}},{key:"handleClickDelete",value:function(){this.db.posts.delete(parseInt(this.id)),this.props.history.push("/cms_edit")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleChangeContent",value:function(e){this.setState({content:e.target.value})}},{key:"tabCategory",value:function(){var e=this.state.category_items;return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("label",null,"Category :"),r.a.createElement("select",{id:"category_id",name:"category_id",className:"form-control"},r.a.createElement("option",{value:"0"},"Select please"),e.map((function(e,t){return r.a.createElement("option",{key:t,value:e.save_id},e.name)}))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_edit",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",null,"Posts - Edit"),this.tabCategory(),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:this.handleChangeTitle.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Content:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{className:"form-control",value:this.state.content,rows:"10",onChange:this.handleChangeContent.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Save")),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:this.handleClickDelete},"Delete")))}}]),a}(n.Component),z=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("load",(function(){window.document.getElementById("file1").addEventListener("change",(function(){e.change_proc()}))}));var t=N();this.db=new y.a(t.DB_NAME),this.db.version(t.DB_VERSION).stores(t.DB_STORE)}},{key:"change_proc",value:function(){console.log("#-change_proc");for(var e=this,t=window.document.getElementById("file1").files,a=0;a<t.length;a++){var n=t[a];console.log("i: "+a),console.log("Name: "+n.name),console.log("Size: "+n.size),console.log("Type: "+n.type),console.log("Date: "+n.lastModified),console.log("Date: "+n.lastModifiedDate);var r=new FileReader;r.onload=function(){var t=Object(f.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("State: "+a.target.readyState),n=a.target.result,r=JSON.parse(n||"[]"),t.next=5,e.add_item(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.onerror=function(e){console.log(e.target.error.name)},r.readAsText(n,"utf-8")}}},{key:"add_category",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,e.next=3,this.db.category.clear();case 3:return e.next=5,t.category_items.forEach((function(e){var t={save_id:e.save_id,name:e.name,created_at:new Date(e.created_at)};a.db.category.add(t)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add_pages",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,this.db.pages.clear(),e.next=4,t.page_items.forEach((function(e){var t={save_id:e.save_id,title:e.title,content:e.content,created_at:new Date(e.created_at)};a.db.pages.add(t)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add_item",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,this.db.posts.clear(),e.next=4,t.items.forEach((function(e){var t={save_id:e.save_id,title:e.title,content:e.content,category_id:e.category_id,created_at:new Date(e.created_at)};a.db.posts.add(t)}));case 4:return e.next=6,this.add_pages(t);case 6:return e.next=8,this.add_category(t);case 8:setTimeout((function(){alert("Complete ,import data success."),console.log("# timer.cb")}),1e3);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_edit",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h3",{className:"mt-2"},"CmsEdit- import:"),r.a.createElement("hr",null),r.a.createElement("p",null,"select , json file"),r.a.createElement("div",null,r.a.createElement("input",{type:"file",id:"file1",className:"btn btn-outline-primary"})),r.a.createElement("br",null),r.a.createElement("p",null,"\u203b\u9023\u7d9a\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u4e0b\u3055\u3044\u3002"))}}]),a}(n.Component),W=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h3",null,this.props.obj.title),this.props.obj.created_at," , ID : ",this.props.obj.id),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/cms_pages_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary"},"Edit")),r.a.createElement("td",null))}}]),a}(n.Component),$=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:"",data_org:""},n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_items()}},{key:"get_items",value:function(){var e=this;this.db.pages.toArray().then((function(t){e.setState({data_org:t});var a=S(t);e.setState({data:a}),console.log(a)}))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(e,t){return r.a.createElement(W,{obj:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Pages"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(u.b,{to:"/cms_pages_create",className:"btn btn-sm btn-primary"},"+ Create")),r.a.createElement("div",{className:"col-md-6"})),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.tabRow())))}}]),a}(n.Component),q=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE)}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleChangeContent",value:function(e){this.setState({content:e.target.value})}},{key:"add_item",value:function(){var e={save_id:k(new Date,"YYYYMMDDhhmmss"),title:this.state.title,content:this.state.content,created_at:new Date};this.db.pages.add(e),console.log(e),this.props.history.push("/cms_pages")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_pages",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",{className:"mt-2"},"Pages - Create"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",onChange:this.handleChangeTitle.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Content:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{type:"text",className:"form-control",rows:"10",onChange:this.handleChangeContent.bind(this)}))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Create")))}}]),a}(n.Component),G=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.id=0,n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.handleClickDelete=n.handleClickDelete.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.id=parseInt(this.props.match.params.id);var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_item(this.id)}},{key:"get_item",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.pages.get(t);case 2:a=e.sent,this.setState({title:a.title,content:a.content}),console.log(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_item",value:function(){this.db.pages.update(parseInt(this.id),{title:this.state.title,content:this.state.content}),this.props.history.push("/cms_pages")}},{key:"handleClickDelete",value:function(){this.db.pages.delete(parseInt(this.id)),this.props.history.push("/cms_pages")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleChangeContent",value:function(e){this.setState({content:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_pages",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",null,"Pages - Edit"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:this.handleChangeTitle.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Content:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{className:"form-control",value:this.state.content,rows:"10",onChange:this.handleChangeContent.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Save")),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:this.handleClickDelete},"Delete")))}}]),a}(n.Component),K=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h3",null,this.props.obj.name),this.props.obj.created_at," , ID : ",this.props.obj.id),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/cms_category_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary"},"Edit")),r.a.createElement("td",null))}}]),a}(n.Component),Q=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:"",data_org:""},n.db=null,n.handleClickExport=n.handleClickExport.bind(Object(O.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_items()}},{key:"handleClickExport",value:function(){console.log("#-handleClickExport");var e=N(),t={save_date:new Date,file_version:e.file_version,items:this.state.data_org,category_items:[],page_items:[]},a=JSON.stringify(t),n=new Blob([a],{type:"application/json"});window.navigator.msSaveBlob?(console.log("#-msSaveBlob"),window.navigator.msSaveBlob(n,"cms.json"),window.navigator.msSaveOrOpenBlob(n,"cms.json")):(console.log("#-msSaveBlob-false"),document.getElementById("download").href=window.URL.createObjectURL(n))}},{key:"get_items",value:function(){var e=this;this.db.category.toArray().then((function(t){e.setState({data_org:t});var a=S(t);e.setState({data:a}),console.log(a)}))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(e,t){return r.a.createElement(K,{obj:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Category"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(u.b,{to:"/cms_category_create",className:"btn btn-sm btn-primary"},"+ Create")),r.a.createElement("div",{className:"col-md-6"})),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.tabRow())))}}]),a}(n.Component),X=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE)}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"add_item",value:function(){var e={save_id:k(new Date,"YYYYMMDDhhmmss"),name:this.state.title,created_at:new Date};this.db.category.add(e),console.log(e),this.props.history.push("/cms_category")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_category",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",{className:"mt-2"},"Category - Create"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",onChange:this.handleChangeTitle.bind(this)}))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Create")))}}]),a}(n.Component),Z=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={name:"",content:""},n.id=0,n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.handleClickDelete=n.handleClickDelete.bind(Object(O.a)(n)),n.db=null,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.id=parseInt(this.props.match.params.id);var e=N();this.db=new y.a(e.DB_NAME),this.db.version(e.DB_VERSION).stores(e.DB_STORE),this.get_item(this.id)}},{key:"get_item",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.category.get(t);case 2:a=e.sent,this.setState({name:a.name}),console.log(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_item",value:function(){this.db.category.update(parseInt(this.id),{name:this.state.name}),this.props.history.push("/cms_category")}},{key:"handleClickDelete",value:function(){this.db.category.delete(parseInt(this.id)),this.props.history.push("/cms_category")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"handleChangeTitle",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/cms_category",className:"btn btn-outline-primary mt-2"},"Back"),r.a.createElement("hr",{className:"mt-2 mb-2"}),r.a.createElement("h1",null,"Category - Edit"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.handleChangeTitle.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Save")),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:this.handleClickDelete},"Delete")))}}]),a}(n.Component),ee=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(d.a,{exact:!0,path:"/",component:v}),r.a.createElement(d.a,{path:"/about",component:b}),r.a.createElement(d.a,{path:"/test",component:C}),r.a.createElement(d.a,{path:"/task",component:B}),r.a.createElement(d.a,{path:"/task_create",component:w}),r.a.createElement(d.a,{path:"/task_edit/:id",component:x}),r.a.createElement(d.a,{path:"/task_test",component:M}),r.a.createElement(d.a,{path:"/task_import",component:T}),r.a.createElement(d.a,{path:"/cms_edit_create",component:R}),r.a.createElement(d.a,{path:"/cms_edit",component:L}),r.a.createElement(d.a,{path:"/cms_edit_show/:id",component:F}),r.a.createElement(d.a,{path:"/cms_edit_edit/:id",component:U}),r.a.createElement(d.a,{path:"/cms_edit_import",component:z}),r.a.createElement(d.a,{path:"/cms_pages",component:$}),r.a.createElement(d.a,{path:"/cms_pages_create",component:q}),r.a.createElement(d.a,{path:"/cms_pages_edit/:id",component:G}),r.a.createElement(d.a,{path:"/cms_category",component:Q}),r.a.createElement(d.a,{path:"/cms_category_create",component:X}),r.a.createElement(d.a,{path:"/cms_category_edit/:id",component:Z}),r.a.createElement(p,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.c7d0832c.chunk.js.map